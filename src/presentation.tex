\documentclass{beamer}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Packages
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% Warn about commands, classes and packages that are outdated and superseded.
% Orthodox checks for pitfalls that are not technically incorrect.
%\usepackage[l2tabu,orthodox,abort]{nag}
\usepackage[l2tabu,orthodox]{nag}

% For font and input encoding.
\usepackage[utf8]{inputenc}
%\usepackage[T1]{fontenc}

% Pretty much all of the ams maths packages.
\usepackage{amsmath,amsthm,amssymb,amsfonts}

% Allows inclusion of graphics easily and "configurably".
\usepackage{graphicx}

% Typesets URLs sensibly --- with a TrueType font, hyperlinked in PDFs, and not
% breaking across lines.
\usepackage{url}

% Count the number of used registers (counter, dimen, skip, muskip, box, token,
% input, output, math families, languages, insertions). Also time the amount of
% time required for LaTeX compilation.
\usepackage[timer,left]{regstats}

% The listings package is a source code printer for LaTeX. You can typeset stand
% alone files as well as listings with an environment similar to verbatim as
% well as you can print code snippets using a command similar to \verb.
\usepackage{listings}

% This package implements high-level interface commands for class file writers
% which allows the separation of formatting commands (typically instances of
% so-called `templates') and their arguments from the signature of
% document-level commands.
\usepackage{xparse}

% This package allows verbatim text to be typeset in bold.
\usepackage{alltt}
\renewcommand{\ttdefault}{txtt}

% This style option improves the interface for defining floating objects such
% as figures and tables in LaTeX. It adds the notion of a `float style' that
% governs appearance of floats. New kinds of floats may be defined using a
% \newfloat command analogous to \newtheorem. This style option also
% incorporates the functionality of David Carlisle's style option here, giving
% floating environments a [H] option which means `PUT IT HERE' (as opposed to
% the standard [h] option which means `You may put it here if you like').
\usepackage{float}

% This is the style file for the gnuplot PGF/TikZ terminal. It is associated
% with the 'gnuplot.lua' script.
\usepackage{gnuplot-lua-tikz}

% The caption package provides many ways to customise the captions in floating
% environments such figure and table.
\usepackage{caption}

% This package supports typesetting of sub-captions (by using the the
% sub-caption feature of the caption package).
\usepackage{subcaption}

% This package reimplements the LATEX verbatim and verbatim* environments. In
% addition it provides a comment environment that skips any commands or text
% between \begin{comment} and the next \end{comment}. It also defines the
% command verbatim to input a whole file verbatim.
\usepackage{verbatim}

% TODO
\usepackage[noline,ruled]{algorithm2e}

% TODO
\usepackage{pgfplots}
\usepackage{tikz}\usetikzlibrary{positioning,shapes,shadows,arrows}

% For \ifthenelse command
\usepackage{ifthen}

% For \maxsizebox command
\usepackage{adjustbox}

% My custom packages
\usepackage{escape,persons,pgf-pie}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Beamer configuration.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Presentation mode
\mode<presentation>

% Load a theme
\usetheme{Warsaw}
%\useoutertheme[footline=authortitle]{miniframes}
\useoutertheme{smoothbars}

% For animations in beamer
\usepackage{multimedia}

% Reduce the font size of captions
\setbeamerfont{caption}{size=\scriptsize}

% Show notes
\setbeameroption{show notes}
%\setbeameroption{show only notes}
%\setbeameroption{hide notes}
%\usepackage{pgfpages}\setbeameroption{show notes on second screen}

% Hide navigation symbols
%\setbeamertemplate{navigation symbols}{}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Custom colours
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\definecolor{darkGreen}{rgb}{0,0.6,0}
\definecolor{gray}{rgb}{0.5,0.5,0.5}
\definecolor{mauve}{rgb}{0.58,0,0.82}
\definecolor{brightGreen}{rgb}{0,1,0}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Source code formatting
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Default settings
\lstset{
    basicstyle=\ttfamily,           % font
                                    %
    title=\lstname,                 % show the filename of files included with \lstinputlisting
    captionpos=b,                   % sets the caption-position to bottom
    backgroundcolor=\color{white},  % choose the background color
                                    %
    numbers=left,                   % where to put the line-numbers
    numberstyle=\tiny\color{gray},  % the style that is used for the line-numbers
    stepnumber=1,                   % the step between two line-numbers
    numbersep=5pt,                  % how far the line-numbers are from the code
                                    %
    showspaces=false,               % show spaces adding particular underscores
    showstringspaces=false,         % underline spaces within strings
    showtabs=false,                 % show tabs within strings adding particular underscores
    tabsize=4,                      % sets default tabsize
    breaklines=true,                % sets automatic line breaking
    breakatwhitespace=false,        % sets if automatic breaks should only happen at whitespace
                                    %
    keywordstyle=\color{blue},      % keyword style
    commentstyle=\color{darkGreen}, % comment style
    stringstyle=\color{mauve},      % string literal style
    escapeinside={\%*}{*)},         % if you want to add a comment within your code
    morekeywords={*,...}            % if you want to add more keywords to the set
}
\lstloadlanguages{C,Matlab}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Variables (to save retyping and reformatting these throughout the document).
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\input{variables}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Custom commands
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%===============================================================================
% Format a block size profiling plot.
%-------------------------------------------------------------------------------
% \blockSizeProfilingPlot{DATASET}
%===============================================================================
\makeatletter
\newcommand\blockSizeProfilingPlot[1]{%
    \def\profilingPlots@width{0.9\textwidth}%
    \def\profilingPlots@height{0.9\textheight}%
    %
    \makebox[\textwidth][c]{%
        \maxsizebox{\profilingPlots@width}{\profilingPlots@height}{%
            \input{plots/block_size/#1}%
        }%
    }%
}
\makeatother

%===============================================================================
% Format a profiling plot.
%-------------------------------------------------------------------------------
% \profilingPlots{DATASET1}{DATASET2}{DATASET3}
%===============================================================================
\makeatletter
\newcommand\profilingPlots[3]{%
    \def\profilingPlots@verticalOffset{\vskip-1.5em}%
    \def\profilingPlots@columnWidth{0.33\textwidth}%
    \def\profilingPlots@pcaWidth{0.9\textwidth}%
    \def\profilingPlots@plotWidth{0.7\textwidth}%
    \def\profilingPlots@legendHeight{0.15\textheight}%
    %
    \profilingPlots@verticalOffset
    \begin{columns}[c]%
        \column{\profilingPlots@columnWidth}%
        \ifthenelse{\equal{#1}{}}{}{
            \begin{figure}%
                \includegraphics[width=\profilingPlots@pcaWidth]{pca/#1}\\%
                \resizebox{\profilingPlots@plotWidth}{!}{\input{plots/c/#1}}%
                \caption{\escape{#1}}%
            \end{figure}%
        }%
        %
        \column{\profilingPlots@columnWidth}%
        \ifthenelse{\equal{#2}{}}{}{
            \begin{figure}%
                \includegraphics[width=\profilingPlots@pcaWidth]{pca/#2}\\%
                \resizebox{\profilingPlots@plotWidth}{!}{\input{plots/c/#2}}%
                \caption{\escape{#2}}%
            \end{figure}%
        }%
        %
        \column{\profilingPlots@columnWidth}%
        \ifthenelse{\equal{#3}{}}{}{
            \begin{figure}%
                \includegraphics[width=\profilingPlots@pcaWidth]{pca/#3}\\%
                \resizebox{\profilingPlots@plotWidth}{!}{\input{plots/c/#3}}%
                \caption{\escape{#3}}%
            \end{figure}%
        }%
    \end{columns}%
    \vfill
    \makebox[\textwidth][c]{%
        \resizebox{!}{\profilingPlots@legendHeight}{%
            \input{plots/c/legend}%
        }%
    }%
}
\makeatother

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Custom formatting commands
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%===============================================================================
% Format the name of an algorithm.
%-------------------------------------------------------------------------------
% \algm{}
%===============================================================================
\newcommand\algm[1]{\emph{#1}}

%===============================================================================
% Format the name of a command line command. Also allows words to be broken over
% multiple lines
%
% See: http://jevopi.blogspot.com.au/2010/04/latex-lstinline-and-hyphenations.html
%-------------------------------------------------------------------------------
% \command{CMD}
%===============================================================================
\newcommand\command[1]{\lstinline[breaklines,literate={\_}{}{0\discretionary{\_}{}{\_}}]`#1`}

%===============================================================================
% Format the name of a data set.
%-------------------------------------------------------------------------------
% \dataset{DATASET}
%===============================================================================
\newcommand\dataset[1]{`\escape{#1}'}

%===============================================================================
% Format a computer host name.
%-------------------------------------------------------------------------------
% \hostname{HOSTNAME}
%===============================================================================
\newcommand\hostname[1]{\emph{#1}}

%===============================================================================
% Format the name of a programming language.
%-------------------------------------------------------------------------------
% \progLang{LANG}
%===============================================================================
\newcommand\progLang[1]{\lstinline`#1`}

%===============================================================================
% Format the name of a software package.
%-------------------------------------------------------------------------------
% \software{NAME}[CMD]
%===============================================================================
\NewDocumentCommand\software{om}{``#2''\IfNoValueTF{#1}{}{\space(\command{#1})}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Graphics directory
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\graphicspath{{../img/}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Bibliography
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage[backend=bibtex,language=australian]{biblatex} % use biblatex instead of bibtex
\bibliography{thesis}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%                               END OF PREAMBLE                                %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{document}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Title Page
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\frame[label=titlepage,shrink]{\titlepage}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Introduction
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Introduction}
\input{presentation/introduction}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% The Algorithm
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{The Algorithm}
\input{presentation/algorithm}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Software Implementation
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Software Implementation}
\input{presentation/software}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Hardware Implementation
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Hardware Implementation}
\input{presentation/hardware}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Conclusion
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Conclusion}
\input{presentation/conclusion}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Appendix
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\appendix
\input{presentation/appendix/main}

\end{document}